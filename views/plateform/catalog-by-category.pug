extends ../layout 
block header 
    header(id="header2" class="navbar navbar-light" style="background: white;")
      div(class="container")
        a(href="/" class="navbar-brand d-flex align-items-center logo")

          if logo
            img(src=`data:image/${logo.img.contentType};base64,${logo.img.data.toString('base64')}`, alt="Logo" height="50" class="mr-2")
          h3(class="m-0") Sabus

        ul(class="navbar-nav flex-direction-row nav-menu d-none d-md-flex")
          li(class="nav-item mr-4")
            a(href="/" class="nav-link") Acceil
          li(class="nav-item mr-4")
            a(href="/catalogue" class="nav-link") Catalogue
          li(class="nav-item mr-4 drop-down")
            a(href="/users/register" class="nav-link") Categories 
            ul.list-unstyled 
              each category in categories 
                li(class="")
                  a(href=`/catalogue/produits-par-categorie/${category.id}` class="") #{category.name}
                  
block content
    div(class="banner" style=`background: linear-gradient(45deg,rgba(29, 236, 197, 0.7),rgba(91, 14, 214, 0.7) 100%), url('data:image/${banner.img.contentType};base64,${banner.img.data.toString('base64')}')no-repeat; background-size: cover;background-position:center`)
        div(class="container h-100 pt-4")
            .mt-3
                h2.pt-4=title
    .container
        div(id="search" class="mt-4 mb-4")
            form(action="", method="get" class="form-inline")
                .form-group
                    select(name="category" class="form-control mr-2") 
                        option(value="default") Categories  
                        each c in categories
                            option(value=c.name) #{c.name}
                    input(type="text" name="q" class="form-control mr-4")
                    input(type="submit" value="Recherche" class="btn btn-primary")
        .mt-4.mb-4
            div(id="products")
                each product in products
                    div(class="item m-1")
                        .item-img.d-flex.justify-content-center.align-items-center
                            img(src=`data:image/${product.image_file.img.contentType};base64,${product.image_file.img.data.toString('base64')}` , height="100px")
                        .item-title.d-flex.justify-content-center.align-items-center 
                            h6 #{product.name} 
                        .item-detail 
                            a(href='/products/'+product.id+'/details') Details
        div(class="d-flex justify-content-center")
            div(class="pagination mt-4 mb-4") 
                a(href="#" class="page-link") << 
                a(href="#" class="page-link") 1
                a(href="#" class="page-link") 2
                a(href="#" class="page-link") 3
                a(href="#" class="page-link") >> 
block footer 
    footer
      div(class="container d-md-flex py-4")
        div(class="text-center text-md-left mr-auto")
          p
            strong &copy; 2021 Sabu's Shop.
            | Tous droit reserv√©
          span Created by 
            a(href="#") Celafinde Agency
        div(class="social-links text-center text-md-right")
          a(href="#") 
            i(class="bx bxl-twitter")
          a(href="#") 
            i(class="bx bxl-facebook")
          a(href="#") 
            i(class="bx bxl-instagram")
          a(href="#") 
            i(class="bx bxl-linkedin")

